{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["const storageKey = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\n\ntry {\n    const initialValue = JSON.parse(localStorage.getItem(storageKey));\n\n    Array.from(form.elements).forEach(element => {\n        const storageValue = initialValue[element.name];\n        if (storageValue) {\n            element.value = storageValue;\n        }\n    });\n    \n} catch (error){\n    console.log(\"PARSE LOCAL STORAGE ERROR\");\n}\n\nform.addEventListener(\"input\", () => {\n    const formData = new FormData(form);\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n        formObject[key] = value.trim();\n    });\n\n    localStorage.setItem(storageKey, JSON.stringify(formObject));\n});\n \nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const { email, message } = event.target.elements;\n    \n    if (!email.value || !message.value) { return };\n\n    const userData = {\n        email: email.value,\n        message: message.value\n    };\n    console.log(userData);\n    \n    localStorage.removeItem(storageKey);\n    form.reset();\n});\n "],"names":["storageKey","form","initialValue","element","storageValue","formData","formObject","value","key","event","email","message","userData"],"mappings":"oCAAA,MAAMA,EAAa,sBAEbC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,GAAI,CACA,MAAMC,EAAe,KAAK,MAAM,aAAa,QAAQF,CAAU,CAAC,EAEhE,MAAM,KAAKC,EAAK,QAAQ,EAAE,QAAQE,GAAW,CACzC,MAAMC,EAAeF,EAAaC,EAAQ,MACtCC,IACAD,EAAQ,MAAQC,EAE5B,CAAK,CAEL,MAAE,CACE,QAAQ,IAAI,2BAA2B,CAC3C,CAEAH,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMI,EAAW,IAAI,SAASJ,CAAI,EAC5BK,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAWE,GAAOD,EAAM,KAAI,CACpC,CAAK,EAED,aAAa,QAAQP,EAAY,KAAK,UAAUM,CAAU,CAAC,CAC/D,CAAC,EAEDL,EAAK,iBAAiB,SAAWQ,GAAU,CACvCA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAM,OAAO,SAExC,GAAI,CAACC,EAAM,OAAS,CAACC,EAAQ,MAAS,OAEtC,MAAMC,EAAW,CACb,MAAOF,EAAM,MACb,QAASC,EAAQ,KACzB,EACI,QAAQ,IAAIC,CAAQ,EAEpB,aAAa,WAAWZ,CAAU,EAClCC,EAAK,MAAK,CACd,CAAC"}